{% load liked_user %}

<div class="card-footer border-top py-2 video_display" data-pk="{{ user.pk }}" data-uuid="{{ object.uuid }}">
    <div class="row">
        <div class="col interaction" data-type="vid{{ object.pk }}">

          <span {% if not object.votes_on %}style="display:none"{% endif %} class="like u_video_like {% if object.likes|user_in:request.user %}btn_success{% else %}btn_default{% endif %}" title="Нравится">
            <svg class="svg_info" viewBox="0 0 24 24" fill="currentColor"><path d="M0 0h24v24H0V0zm0 0h24v24H0V0z" fill="none"/><path d="M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1z"/></svg>
                <span class="likes_count">{{ object.likes_count }}</span>
          </span>

          <span class="like_window">
            {% if object.window_likes %}
          <div class="like_pop">
            <span class="item_likes pointer">Оценили: <span data-count="like">{{ object.likes_count }}</span> {{ object.likes_count|rupluralize:"человек,человека,людей" }}</span>
            <br><br>
            <span style="display: flex;margin-top: 10px;">
              {% for voter in object.window_likes %}
                {% include 'desctop/generic/user/voter.html' %}
              {% endfor %}
            </span>
          </div>
          {% endif %}
        </span>

          <span {% if not object.votes_on %}style="display:none"{% endif %} class="dislike u_video_dislike {% if object.dislikes|user_in:request.user %}btn_danger{% else %}btn_default{% endif %}" title="Не нравится">
            <svg viewBox="0 0 24 24" class="svg_info" fill="currentColor"><path d="M0 0h24v24H0V0zm0 0h24v24H0V0z" fill="none"/><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm0 12l-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z"/></svg>
            <span class="dislikes_count">{{ object.dislikes_count }}</span>
          </span>

          <span class="dislike_window">
            {% if object.window_dislikes %}
          <div class="dislike_pop">
            <span class="item_dislikes pointer">Не оценили: <span data-count="dislike">{{ object.dislikes_count }}</span> {{ object.dislikes_count|rupluralize:"человек,человека,людей" }}</span>
            <br><br>
            <span style="display: flex;margin-top: 10px;" title="{{ sheet.user.get_full_name }}">
              {% for voter in object.window_dislikes %}
                {% include 'desctop/generic/user/voter.html' %}
              {% endfor %}
            </span>
          </div>
          {% endif %}
        </span>

            <span title="Комментарий" class="load_comments_list btn_default" {% if not object.comments_enabled %}style="display:none"{% endif %}>
              <svg viewBox="0 0 24 24" class="svg_info" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
                <span class="comment-count">{{ object.count_comments }}</span>
            </span>

            <span title="Поделиться" class="u_video_repost btn_default" style="cursor:pointer">
              <svg class="svg_info repost_style_btn" viewBox="0 0 24 24" fill="currentColor"><path d="m0 0h24v24h-24z" fill="none"/><path fill="currentColor" d="m12.1 7.87v-3.47a1.32 1.32 0 0 1 2.17-1l8.94 7.6a1.32 1.32 0 0 1 .15 1.86l-.15.15-8.94 7.6a1.32 1.32 0 0 1 -2.17-1v-3.45c-4.68.11-8 1.09-9.89 2.87a1.15 1.15 0 0 1 -1.9-1.11c1.53-6.36 5.51-9.76 11.79-10.05zm1.8-2.42v4.2h-.9c-5.3 0-8.72 2.25-10.39 6.86 2.45-1.45 5.92-2.16 10.39-2.16h.9v4.2l7.71-6.55z" /></svg>
            </span>
        &nbsp;&nbsp;
        <div class="dropdown d-inline-block">
            <a style="cursor:pointer" class="btn_default drop">
              еще
            </a>
            <div class="dropdown-menu">
                <span class="dropdown-item video_user_remove">Удалить видео</span>
                <span class="dropdown-item">Редактировать</span>
                <span>
                  {% if object.comments_enabled %}
                    <span class="dropdown-item video_user_off_comment">Выключить комментарии</span>
                  {% else %}
                    <span class="dropdown-item video_user_on_comment">Включить комментарии</span>
                  {% endif %}
                </span>
                <span class="dropdown-item js-textareacopybtn">Скопировать ссылку</span>
                <span class="dropdown-item video_stat_f">Статистика записи</span>
            </div>
        </div>
        <span title="Просмотры" style="float: right;">
          <svg fill="currentColor" class="svg_info svg_default" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"/></svg>
            {{ object.all_visits_count }}&nbsp;{{ object.all_visits_count|rupluralize:"просмотр,просмотра,просмотров" }}
        </span>
      </div>
    </div>
</div>
