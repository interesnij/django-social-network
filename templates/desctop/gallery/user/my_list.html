{% load get_key %}

<div class="card container mt-3 mb-5 is_stat_list" data-type="user_photo_list" data-pk="{{ list.pk }}">

  <span class="load_block">
  <div class="media mt-3" style="padding-left: 7px;">
    <form id="add_photos" class="uuid_saver" data-uuid="{{ list.uuid }}">
      {% csrf_token %}
    <h5 class="mt-1">
      <p>
        <span class="second_list_name" data-name="{{ list.name }}">{{ list.name }}</span> ({{ list.count }}) - альбом
        <a class="underline ajax" href="{{ list.creator.get_link }}">{{ list.creator.get_full_name_genitive }}</a>
      </p>
        <input type="file" id="u_gallery_list_photo_add" name="file" style="display:none" multiple="multiple">
        {% if list.is_main or list.is_have_edit %}
        <span class="pointer badge badge-light-success previous_click">Добавить фото</span>
        {% endif %}
        {% if request.user.pk == list.creator.pk and list.is_have_edit %}
        <span class="pointer badge badge-light-secondary u_photo_list_edit">Изменить список</span>
        <span class="pointer badge badge-light-danger u_photo_list_remove">Удалить список</span>
        {% endif %}
        <span class="pointer badge badge-light-info copy_link">Копировать ссылку</span>
    </h5>
    </form>
  </div>
  <div class="container-fluid mt-1 pk_saver">
    <div class="row is_block_paginate no-gutters drag_container" data-type="user_photo_list" data-pk="{{ list.creator.pk }}">
      {% if object_list %}
      {% for object in object_list %}
        <div class="col-md-6 p-1 pointer hide_shower col-lg-4 detail_photo pag" photo-pk="{{ object.pk }}" data-pk="{{ object.pk }}">
          <p class="handle" style="display:none; color:white !important">
            <svg height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
          </p>
          <div class="progressive replace" data-href="{{ object.file.url }}">
            <img class="preview image_fit_200" src="{{ object.get_preview }}" alt="img">
          </div>
        </div>
        {% endfor %}
        {% if page_obj.has_next %}
        <div class="load centered m-1 next_page_list" data-link="{% url 'load_photo_list' pk=list.pk %}?page={{ page_obj.next_page_number }}">
            <img src="/static/images/preloader.gif">
        </div>
        {% endif %}
      {% else %}
      <div class="card mb-3 centered items_empty">
        <div class="card-body">
        <svg fill="currentColor" class="thumb_big svg_default" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
        </div>
        <h6 style="margin: 20px;text-align: center;"> Фотографий пока нет...</h6>
      </div>
      {% endif %}
    </div>
  </div>
  </span>
</div>
