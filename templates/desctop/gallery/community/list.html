{% load get_key %}

<div class="container mt-3">

  <span class="load_block">
  <div class="media mt-3" class="uuid_saver" data-uuid="{{ list.uuid }}" style="padding-left: 7px;">
    <h5 class="mt-1">
      <p>
        <span class="second_list_name" data-name="{{ list.name }}">{{ list.name }}</span> - альбом
        <a class="underline ajax" href="{{ list.community.get_link }}">{{ list.community.name }}</a>
      </p>
      {% if list|is_user_can_add_list:request.user.pk %}
        <span class="pointer badge badge-light-success c_copy_photo_list">Добавить список в коллекцию</span>
      {% elif request.user.pk in list.get_users_ids %}
        <span class="pointer badge badge-light-danger c_uncopy_photo_list">Удалить список из коллекции</span>
      {% endif %}
      <span class="pointer badge badge-light-warning c_photo_list_claim">Пожаловаться</span>
      <span class="pointer badge badge-light-info copy_link">Копировать ссылку</span>
    </h5>
  </div>
  <div class="container-fluid mt-3 pk_saver">
    <div class="row is_block_paginate no-gutters drag_container" data-uuid="{{ list.uuid }}" id="u_list_photos_container"  data-link="/gallery/user/list_photos/{{ user.pk }}/{{ list.uuid }}/">
      {% if object_list %}
      {% for object in object_list %}
        <div class="col-md-6 p-1 pointer hide_shower col-lg-4 detail_photo pag" photo-pk="{{ object.pk }}" data-pk="{{ object.pk }}">
          <p class="handle" style="display:none; color:white !important">
            <svg height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
          </p>
          <div class="progressive replace" data-href="{{ object.file.url }}">
            <img class="preview image_fit_200" src="{{ object.get_preview }}" alt="img">
          </div>
        </div>
        {% endfor %}
        {% if page_obj.has_next %}
        <div class="load centered m-1 next_page_list" data-link="{% url 'load_photo_list' uuid=list.uuid %}?page={{ page_obj.next_page_number }}">
            <img src="/static/images/preloader.gif">
        </div>
        {% endif %}
      {% else %}
      <div class="card mb-3 centered items_empty">
        <div class="card-body">
        <svg fill="currentColor" class="thumb_big svg_default" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
        </div>
        <h6 style="margin: 20px;text-align: center;"> Фотографий пока нет...</h6>
      </div>
      {% endif %}
    </div>
  </div>
  </span>
</div>
