{% extends "base_mobile.html" %}

{% block title %}Настройки - приватность{% endblock %}
{% block content %}
<style>
  #PRIVATE-FORM p{
    line-height: 18px;
  }
</style>
<div class="container mt-3">

  {% include 'mob_settings/menu.html' %}

  <form id="PRIVATE-FORM" action="" method="post" class="contact-form">
      {% csrf_token %}
      <div class="card mb-3">
          <div class="card-header border-bottom">
              <h5 class="content-color-primary mb-0">Настройки приватности</h5>
          </div>
          <div class="card-body">
              <p class="content-color-primary page-sub-title-small mt-2">
                  Закрытый профиль
                  <input type="checkbox" {% if private_settings.is_private %} checked {% endif %} name="is_private" id="id_is_private" class="switch switch-sm">
                  <label style="float: right;" for="id_is_private" class="bg_success mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Вам могут писать сообщения
                  <input type="checkbox" {% if private_settings.can_message %} checked {% endif %} name="can_message" id="id_can_message" class="switch switch-sm">
                  <label style="float: right;" for="id_can_message" class="bg_success mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Фото открыты всем
                  <input type="checkbox" {% if private_settings.photo_visible_all %} checked {% endif %} name="photo_visible_all" id="id_photo_visible_all" class="switch switch-sm">
                  <label style="float: right;" for="id_photo_visible_all" class="bg_success mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Фото открыты друзьям
                  <input type="checkbox" {% if private_settings.photo_visible_frends %} checked {% endif %} name="photo_visible_frends" id="id_photo_visible_frends" class="switch switch-sm">
                  <label style="float: right;" for="id_photo_visible_frends" class="bg_success mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Люди могут писать комментарии
                  <input type="checkbox" {% if private_settings.can_comments %} checked {% endif %} name="can_comments" id="id_can_comments" class="switch switch-sm">
                  <label style="float: right;" for="id_can_comments" class="bg_success mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Люди могут оставлять записи
                  <input type="checkbox" {% if private_settings.can_add_post %} checked {% endif %} name="can_add_post" id="id_can_add_post" class="switch switch-sm">
                  <label style="float: right;" for="id_can_add_post" class="bg_success  mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Люди могут писать статьи
                  <input type="checkbox" {% if private_settings.can_add_article %} checked {% endif %} name="can_add_article" id="id_can_add_article" class="switch switch-sm">
                  <label style="float: right;" for="id_can_add_article" class="bg_success mb-2 border float-right"></label>
              </p>
              <p class="content-color-primary page-sub-title-small mt-2">
                  Люди могут добавлять товары
                  <input type="checkbox" {% if private_settings.can_add_good %} checked {% endif %} name="can_add_good" id="id_can_add_good" class="switch switch-sm">
                  <label style="float: right;" for="id_can_add_good" class="bg_success mb-2 border float-right"></label>
              </p>
          </div>
          <div class="card-footer">
              <button type="button" class="mb-2 btn btn-sm btn-success float-right pr_btn">Сохранить</button>
          </div>
      </div>
  </form>
</div>

<script type="text/javascript">
  document.querySelector(".pr_btn").addEventListener("click", (e) => {
   var form10 = document.getElementById('PRIVATE-FORM');
   var formEntries = new FormData(form10);
   var options = {
     method: 'POST',
     body: formEntries,
   };
   fetch('{% url "user_settings_private" pk=request.user.pk %}', options).then(data => {
     console.log("Все ОК")
   }).catch(error => {console.log("Все не ОК")})
 })
</script>
{% endblock %}
